<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prompt Coach — by LEOV</title>

<style>
:root{
  --bg:#0b1020; --panel:#121a33; --text:#eaf0ff; --muted:#b9c3e6;
  --accent:#4F46E5; --good:#4ade80; --warn:#fbbf24; --bad:#fb7185;
  --border:rgba(255,255,255,.12); --radius:16px;
  --sans:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  --mono:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

*{box-sizing:border-box}
body{
  margin:0;
  background:radial-gradient(900px 500px at 30% -10%,rgba(79,70,229,.25),transparent 60%),var(--bg);
  color:var(--text); font-family:var(--sans);
}

a{color:inherit;text-decoration:none}

/* HEADER */
header{
  position:sticky;top:0;z-index:10;
  display:flex;justify-content:space-between;align-items:center;
  padding:14px 18px;border-bottom:1px solid var(--border);
  background:linear-gradient(180deg,rgba(79,70,229,.25),rgba(11,16,32,.95));
}

.brand{display:flex;align-items:center;gap:12px}
.brand img{height:28px}
.brand b{font-size:15px}
.brand span{font-size:12px;color:var(--muted)}

.actions{display:flex;gap:8px}
.actions button,.actions a{
  border:1px solid var(--border);background:rgba(255,255,255,.05);
  color:var(--text);padding:8px 12px;border-radius:12px;cursor:pointer;
}

/* LAYOUT */
.wrap{max-width:1200px;margin:0 auto;padding:24px}
.grid{display:grid;grid-template-columns:1.1fr .9fr;gap:14px}
@media(max-width:900px){.grid{grid-template-columns:1fr}}

.card{
  background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03));
  border:1px solid var(--border);border-radius:var(--radius);
  padding:14px;
}

h2{margin:0 0 10px;font-size:14px;text-transform:uppercase}

label{font-size:12px;color:var(--muted)}
input,textarea,select{
  width:100%;margin-top:4px;margin-bottom:10px;
  background:rgba(0,0,0,.2);border:1px solid var(--border);
  border-radius:12px;color:var(--text);
  padding:10px;font-size:13px;
}
textarea{min-height:70px}

.kpi{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.kpi div{background:rgba(0,0,0,.25);border-radius:12px;padding:10px;text-align:center}
.kpi b{font-size:18px}

.bar{height:10px;border-radius:999px;background:rgba(255,255,255,.1);overflow:hidden}
.bar div{height:100%;width:0%;background:linear-gradient(90deg,var(--bad),var(--warn),var(--good))}

.output{
  white-space:pre-wrap;font-family:var(--mono);
  background:rgba(0,0,0,.3);border:1px dashed var(--border);
  border-radius:12px;padding:12px;font-size:12.5px;
  min-height:140px;
}
</style>
</head>

<body>

<header>
  <div class="brand">
    <a href="https://www.leov.co" target="_blank">
      <img src="leov-logo.png" alt="LEOV"/>
    </a>
    <div>
      <b>Prompt Coach</b><br/>
      <span>by LEOV — Write clearer prompts</span>
    </div>
  </div>
  <div class="actions">
    <button id="langBtn">FR / EN</button>
    <button id="resetBtn">Reset</button>
    <button id="copyBtn">Copy prompt</button>
  </div>
</header>

<div class="wrap">
  <div class="grid">

    <!-- BUILDER -->
    <div class="card">
      <h2>1) Prompt Builder</h2>

      <label>Goal</label>
      <input id="goal" placeholder="e.g. Write a professional follow-up email"/>

      <label>Role</label>
      <input id="role" placeholder="e.g. Act as a senior recruiter"/>

      <label>Context</label>
      <textarea id="context"></textarea>

      <label>Inputs</label>
      <textarea id="inputs"></textarea>

      <label>Constraints</label>
      <textarea id="constraints"></textarea>

      <label>Success criteria</label>
      <textarea id="success"></textarea>

      <label>Output format</label>
      <select id="format">
        <option value="auto">Auto</option>
        <option value="bullets">Bullets</option>
        <option value="email">Email</option>
        <option value="table">Table</option>
      </select>
    </div>

    <!-- RESULT -->
    <div class="card">
      <h2>2) Diagnostics & Final Prompt</h2>

      <div class="kpi">
        <div><div>Score</div><b id="score">0</b></div>
        <div><div>Clarity</div><b id="clarity">0</b></div>
        <div><div>Constraints</div><b id="constr">0</b></div>
        <div><div>Data</div><b id="data">0</b></div>
      </div>

      <div style="margin:10px 0">
        <div class="bar"><div id="bar"></div></div>
      </div>

      <label>Final prompt (copyable)</label>
      <div class="output" id="finalPrompt"></div>
    </div>

  </div>
</div>

<script>
const $ = id => document.getElementById(id);
const fields = ["goal","role","context","inputs","constraints","success","format"];

function synthesize(){
  const g=$("goal").value.trim();
  const r=$("role").value.trim();
  const c=$("context").value.trim();
  const i=$("inputs").value.trim();
  const k=$("constraints").value.trim();
  const s=$("success").value.trim();
  const f=$("format").value;

  let txt="";
  if(r) txt+=`You are ${r}.\n`;
  if(g) txt+=`\n# Task\n${g}\n`;
  if(c) txt+=`\n## Context\n${c}\n`;
  if(i) txt+=`\n## Inputs\n${i}\n`;
  if(k) txt+=`\n## Constraints\n${k}\n`;
  if(f!=="auto") txt+=`\n## Output format\n${f}\n`;
  if(s) txt+=`\n## Success criteria\n${s}\n`;

  txt+=`\n## Guardrails\n- Ask up to 3 questions if information is missing.\n- Do not invent facts.\n`;

  return txt || "Fill at least one field to generate the prompt.";
}

function update(){
  const txt=synthesize();
  $("finalPrompt").innerText=txt;

  let score=0;
  score+= $("goal").value?25:0;
  score+= $("context").value?25:0;
  score+= $("inputs").value?25:0;
  score+= $("constraints").value?25:0;

  $("score").innerText=score;
  $("clarity").innerText=$("goal").value?25:0;
  $("constr").innerText=$("constraints").value?25:0;
  $("data").innerText=$("inputs").value?25:0;
  $("bar").style.width=score+"%";
}

fields.forEach(id=>{
  $(id).addEventListener("input",update);
  $(id).addEventListener("change",update);
});

$("resetBtn").onclick=()=>{
  fields.forEach(id=>$(id).value="");
  update();
};

$("copyBtn").onclick=()=>{
  navigator.clipboard.writeText($("finalPrompt").innerText);
};

update(); // ✅ IMPORTANT : render initial
</script>

</body>
</html>
